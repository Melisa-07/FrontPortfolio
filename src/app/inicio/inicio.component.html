<div>
  <div *ngIf="persona | async as persona; else noUser">
    <div class="row edu main-container">
      <div class="container"></div>
      <div id="main-container"></div>
    </div>

    <!--Edit modal-->
    <div
      class="modal fade"
      id="editPersonaModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="personaEditModalLabel"
      aria-hidden="true"
      *ngIf="isAdmin"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="updatePersonaModalLabel">
              Edit profile
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form #editForm="ngForm">
              <input
                hidden
                type="text"
                name="id"
                id="id"
                ngModel="{{ editPersona?.id }}"
              />
              <div class="form-group">
                <label for="name">Image</label>
                <input
                  type="text"
                  ngModel="{{ editPersona?.fotoPerfil }}"
                  name="fotoPerfil"
                  class="form-control"
                  id="fotoPerfil"
                  placeholder="Image"
                />
              </div>
              <div class="form-group">
                <label for="name">Name</label>
                <input
                  type="text"
                  ngModel="{{ editPersona?.nombre }}"
                  name="nombre"
                  class="form-control"
                  id="nombre"
                  placeholder="Name"
                />
                <div class="form-group">
                  <label for="lastName">Last name</label>
                  <input
                    type="text"
                    ngModel="{{ editPersona?.apellido }}"
                    name="apellido"
                    class="form-control"
                    id="apellido"
                    placeholder="Last name"
                  />
                </div>
              </div>
              <div class="form-group">
                <label for="titulo">Title</label>
                <input
                  type="text"
                  ngModel="{{ editPersona?.titulo }}"
                  name="titulo"
                  class="form-control"
                  id="titulo"
                  aria-describedby="emailHelp"
                  placeholder="Title"
                />
              </div>

              <div class="form-group">
                <label for="phone">About me</label>
                <input
                  type="text"
                  ngModel="{{ editPersona?.descripcion }}"
                  name="descripcion"
                  class="form-control"
                  id="descripcion"
                  placeholder="Description"
                />

                <div class="modal-footer">
                  <button
                    type="button"
                    id=""
                    data-dismiss="modal"
                    class="btn btn-secondary"
                  >
                    Close
                  </button>
                  
                  <button
                    (click)="onUpdatePersona(editForm.value)"
                    data-dismiss="modal"
                    class="btn btn-primary"
                  >
                    Save
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-center">
      <button
        *ngIf="isAdmin"
        type="button"
        class="button-editarPersona"
        (click)="onOpenModal('edit', persona)"
      >
      Edit profile
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-pencil"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"
          />
        </svg>
      </button>
    </div>

    <div class="card" data-state="#about">
      <div class="card-header">
        <div class="card-cover"></div>
        <!-- <img class="card-avatar" src="{{ persona.fotoPerfil }}" alt="avatar" /> -->
        <h1 class="card-fullname">
          {{ persona.apellido }} {{ persona.nombre }}
        </h1>
        <h2 class="card-jobtitle">{{ persona.titulo }}</h2>
      </div>
      <div class="card-main">
        
        <div class="card-section is-active" id="about">
          <div class="card-content">
            <div class="card-subtitle">ABOUT ME</div>
            <p class="card-desc">{{ persona.descripcion }}</p>
          </div>
          <div class="card-social"></div>
        </div>
        <div class="card-buttons">
          <button
            [routerLink]="['estudios']"
            data-section="#about"
            routerLinkActive="is-active"
          >
            EDUCATION
          </button>
          <button
            [routerLink]="['experiencia']"
            data-section="#experience"
            routerLinkActive="is-active"
          >
            WORK EXPERIENCE
          </button>
          <button
            [routerLink]="['contacto']"
            data-section="#contact"
            routerLinkActive="is-active"
          >
            CONTACT
          </button>
        </div>
      </div>
    </div>
  </div>

  <ng-template #noUser> </ng-template>
</div>
